model Course {
  id          String    @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  title       String
  slug        String    @unique
  description String?   @db.Text
  shortDesc   String?   @map("short_desc")
  price       Float
  image       String?
  videoUrl    String?   @map("video_url")
  category    String?
  level       String    @default("beginner")
  duration    Int?
  lessons     Int       @default(0)
  students    Int       @default(0)
  rating      Float     @default(0)
  published   Boolean   @default(false)
  featured    Boolean   @default(false)
  authorId    String?   @map("author_id") @db.Uuid
  createdAt   DateTime  @map("created_at") @default(now())
  updatedAt   DateTime  @map("updated_at") @updatedAt

  // العلاقات - هنا التعديل المهم
  author      User?      @relation(fields: [authorId], references: [id])  // أضفنا علامة الاستفهام
  sections    Section[]
  enrollments Enrollment[]
  comments    Comment[]
  reviews     Review[]
  payments    Payment[]
  activationCodes ActivationCode[]

  @@map("courses")
}
